(()=>{function l(t,n=100){let o;return function(...d){o&&clearTimeout(o),o=setTimeout(()=>t.apply(this,d),n)}}var e={active:!1,headerHeight:45,elementTitle:{},elementTCB:{},elementCover:{},tcbOriginStyle:"",timer:()=>{}};function i(){let t=Math.round((innerWidth-e.elementTitle.offsetWidth)/2)+e.elementTitle.offsetWidth,n=(e.elementCover?.height??0)+e.headerHeight+e.elementTitle.offsetHeight;return{offsetX:t,offsetY:n}}function s(){let{offsetX:t,offsetY:n}=i(),o=e.elementTCB.childNodes[0].childNodes[0]?.style?.color;t-e.elementTitle.offsetWidth>150?(e.active=!0,e.elementTCB.style.cssText="position: absolute;",e.elementTCB.style.cssText+=`left: ${t}px; top: ${n}px; width: 240px;`,e.elementTCB.style.cssText+=`border-left: medium solid ${o??""}; padding-left: 1rem;`):(e.active=!1,e.elementTCB.style.cssText="",e.elementTCB.style.cssText+=e.tcbOriginStyle)}function r(){if(!!e.active)if(e.elementTCB.offsetTop+128<=window.scrollY)e.elementTCB.style.cssText+="position: fixed; top: 128px;";else{let{offsetY:t}=i();e.elementTCB.style.cssText+=`position: absolute; top: ${t}px;`}}function c(){console.log("sidebar"),e.elementTitle=document.getElementsByClassName("width")[0],e.elementTCB=document.getElementsByClassName("notion-table_of_contents-block")[0],e.elementCover=document.querySelector("img.page_cover"),e.tcbOriginStyle=document.querySelector(".notion-table_of_contents-block").style.cssText,e.elementTCB&&s(),window.addEventListener("resize",l(s,200)),window.addEventListener("scroll",r)}document.addEventListener("DOMContentLoaded",c);})();
//# sourceMappingURL=index.js.map
